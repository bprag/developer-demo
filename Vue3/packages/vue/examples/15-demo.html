<!doctype html>
<html lang="en">
		<head>
				<meta charset="UTF-8" />
				<title>Title</title>
		</head>
		<body>
				<div id="app"></div>
				<script type="module">
						// import {
						// 		h,
						// 		createApp,
						// 		ref,
						// 		getCurrentInstance,
						// 		onBeforeMount,
						// 		onMounted,
						// 		onBeforeUpdate,
						// 		onUpdated,
						// 		onBeforeUnmount,
						// 		onUnmounted,
						// } from '../../../node_modules/vue/dist/vue.esm-browser.js'
						import {
								h,
								ref,
								createApp,
								getCurrentInstance,
								onBeforeMount,
								onMounted,
								onBeforeUpdate,
								onUpdated,
								onBeforeUnmount,
								onUnmounted,
						} from '../dist/vue.esm.js'

						/**
							* æŒ‚è½½
							* onBeforeMount
							* onMounted
							*
							* æ›´æ–°
							* onBeforeUpdate
							* onUpdated
							*
							* å¸è½½
							* onBeforeUnmount
							* onUnmounted
							*
							*/

						const Child = {
								props: [ 'count' ],
								setup(props) {
										onBeforeMount(() => {
												console.log('onBeforeMount å­ç»„ä»¶')
										})

										onMounted(() => {
												console.log('onMounted å­ç»„ä»¶')
										})

										onBeforeUpdate(() => {
												console.log('onBeforeUpdate å­ç»„ä»¶')
										})
										onUpdated(() => {
												console.log('onUpdated å­ç»„ä»¶')
										})

										onBeforeUnmount(() => {
												console.log('onBeforeUnmount å­ç»„ä»¶')
										})
										onUnmounted(() => {
												console.log('onUnmounted å­ç»„ä»¶')
										})

										return () => {
												return h('div', [ 'æˆ‘æ˜¯å­ç»„ä»¶', props.count ])
										}
								},
						}

						const Comp = {
								setup() {
										const count = ref(0)

										onBeforeMount(() => {
												console.log('onBeforeMount çˆ¶ç»„ä»¶')
												console.log('onBeforeMount ====', getCurrentInstance())
										})

										console.log(`ðŸš€ ~ document.querySelector('#container') =>`, document.querySelector('#container'))
										onMounted(() => {
												console.log(`ðŸš€ ~ document.querySelector('#container') =>`, document.querySelector('#container'))
												console.log('onMounted çˆ¶ç»„ä»¶')
												console.log('onMounted ====', getCurrentInstance())
										})


										onBeforeUpdate(() => {
												console.log('onBeforeUpdate çˆ¶ç»„ä»¶')
												console.log('onBeforeUpdate ====', getCurrentInstance())
										})
										onUpdated(() => {
												console.log('onUpdated çˆ¶ç»„ä»¶')
												console.log('onUpdated ====', getCurrentInstance())
										})

										onBeforeUnmount(() => {
												console.log('onBeforeUnmount çˆ¶ç»„ä»¶')
												console.log('onBeforeUnmount ====', getCurrentInstance())
										})

										onUnmounted(() => {
												console.log('onUnmounted çˆ¶ç»„ä»¶')
												console.log('onUnmounted ====', getCurrentInstance())
										})

										setTimeout(() => {
												count.value++
										}, 1000)

										return () => {
												return h('div', [
														h('p', { id: 'container' }, 'æˆ‘æ˜¯çˆ¶ç»„ä»¶çš„pæ ‡ç­¾'),
														h(Child, {
																count: count.value,
														}),
												])
										}
								},
						}

						const app = createApp(Comp, { msg: 'hello' })
						app.mount('#app')

						setTimeout(() => app.unmount(), 5000)
				</script>
		</body>
</html>
